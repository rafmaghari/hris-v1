import{r as i,K as y,j as e,L as v,$ as c,S as m}from"./app-3Ds5Ugas.js";import{H as N}from"./heading-BmUx_2sw.js";import{B as a}from"./createLucideIcon-D09f9KDG.js";import{C as S}from"./confirmation-dialog-C_y6r8OJ.js";import{D as b}from"./data-table-7mP6xRoL.js";import{I as D}from"./input-Dlgunh1D.js";import{A as P}from"./app-layout-DT5DLS-H.js";import{P as w}from"./pencil-DUyNh9Y8.js";import{T as C}from"./trash-2-DQSSqK_3.js";/* empty css            */import"./dialog-pNzlA7wU.js";import"./index-DTU4xmPb.js";import"./index-C0-Rh8YQ.js";import"./table-BwDg-NCB.js";import"./admin-layout-KRPrd9IN.js";import"./applicationLogo-naLLS42X.js";const T=[{title:"Dashboard",href:route("dashboard")},{title:"Permissions",href:route("permissions.index")}];function F({permissions:d,filters:A}){const[u,n]=i.useState(!1),[t,p]=i.useState(null),[o,l]=i.useState(""),{url:f}=y();i.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("filter[search]");r&&l(r)},[f]);function h(s){s.preventDefault();const r=o.trim()?{"filter[search]":o}:{};m.get(route("permissions.index"),r,{preserveState:!0,preserveScroll:!0})}function x(s){p(s),n(!0)}function j(){t&&(m.delete(route("permissions.destroy",{permission:t.id})),n(!1))}const g=[{accessorKey:"name",header:"Name"},{accessorKey:"guard_name",header:"Guard"},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:s})=>{const r=s.original;return e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{href:route("permissions.edit",{permission:r.id}),children:e.jsxs(a,{variant:"outline",size:"icon",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(a,{variant:"destructive",size:"icon",onClick:()=>x(r),children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];return e.jsxs(P,{breadcrumbs:T,children:[e.jsx(v,{title:"Permissions"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[e.jsx(N,{title:"Permissions",className:"mb-0"}),e.jsx(c,{href:route("permissions.create"),children:e.jsx(a,{children:"Create Permission"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"text",value:o,onChange:s=>l(s.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search permissions..."}),e.jsx(a,{type:"submit",children:"Search"})]})})}),e.jsx(b,{columns:g,data:d}),e.jsx(S,{title:"Confirm Deletion",description:`Are you sure you want to delete the "${t==null?void 0:t.name}" permission? This may affect roles that use this permission.`,open:u,onOpenChange:n,onConfirm:j,confirmButtonText:"Delete",confirmButtonVariant:"destructive"})]})]})}export{F as default};
