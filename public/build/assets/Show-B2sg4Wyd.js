import{r as p,j as s,L as u,$ as f,a as y}from"./app-3Ds5Ugas.js";import{H as g}from"./heading-BmUx_2sw.js";import{B as c}from"./createLucideIcon-D09f9KDG.js";import{C as m}from"./card-N5NlBDpJ.js";import{u as N}from"./use-toast-FB-nhlMA.js";import{A as v}from"./app-layout-DT5DLS-H.js";import{T as i}from"./admin-layout-KRPrd9IN.js";import{f as x}from"./format-CBpsKyOP.js";/* empty css            */import"./applicationLogo-naLLS42X.js";import"./index-DTU4xmPb.js";import"./index-C0-Rh8YQ.js";const b=[{title:"Dashboard",href:i("dashboard")},{title:"Attendances",href:i("attendances.index")},{title:"Details",href:"#"}];function $({attendance:t}){const[a,o]=p.useState(t.records),{toast:n}=N(),h=async(e,j)=>{try{const d=j===1?2:1;await y.patch(i("attendance-records.update",e),{status:d}),o(a.map(r=>r.id===e?{...r,status:d}:r)),n({title:"Success",description:"Attendance status updated successfully"})}catch{n({title:"Error",description:"Failed to update attendance status",variant:"destructive"})}},l=e=>s.jsxs("div",{className:"flex items-center justify-between rounded bg-gray-50 p-2",children:[s.jsxs("span",{className:"text-sm",children:[e.member.first_name," ",e.member.last_name]}),s.jsxs("div",{className:"flex items-center gap-x-4 gap-y-2",children:[s.jsx("span",{className:`text-sm font-medium ${e.status===1?"text-green-600":"text-red-600"}`,children:e.status===1?"Present":"Absent"}),s.jsx(c,{variant:"outline",size:"sm",onClick:()=>h(e.id,e.status),className:"h-6 px-2",children:"Toggle Status"})]})]},e.id);return s.jsxs(v,{breadcrumbs:b,children:[s.jsx(u,{title:"Attendance Details"}),s.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[s.jsx("div",{children:s.jsx(g,{title:"Attendance Details",className:"mb-0"})}),s.jsx(f,{href:i("attendances.index"),children:s.jsx(c,{variant:"outline",children:"Back to List"})})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs(m,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Event Information"}),s.jsxs("dl",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-semibold text-gray-500",children:"Group"}),s.jsx("dd",{className:"text-sm text-gray-900",children:t.group.name})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-semibold text-gray-500",children:"Event"}),s.jsx("dd",{className:"text-sm text-gray-900",children:t.event.name})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-semibold text-gray-500",children:"Event Date"}),s.jsx("dd",{className:"text-sm text-gray-900",children:x(new Date(t.event.event_date),"MMMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-semibold text-gray-500",children:"Recorded At"}),s.jsx("dd",{className:"text-sm text-gray-900",children:x(new Date(t.created_at),"MMMM d, yyyy h:mm a")})]}),t.notes&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),s.jsx("dd",{className:"text-sm text-gray-900",children:t.notes})]})]})]}),s.jsxs(m,{className:"p-6",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Attendance Records"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between px-2 text-sm font-medium text-gray-500",children:[s.jsx("span",{children:"Member"}),s.jsx("span",{children:"Status"})]}),s.jsx("div",{className:"space-y-2",children:a.slice(0,Math.ceil(a.length/2)).map(l)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between px-2 text-sm font-medium text-gray-500",children:[s.jsx("span",{children:"Member"}),s.jsx("span",{children:"Status"})]}),s.jsx("div",{className:"space-y-2",children:a.slice(Math.ceil(a.length/2)).map(l)})]})]})})]})]})})]})}export{$ as default};
