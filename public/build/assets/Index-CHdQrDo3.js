import{r as l,K as u,j as e,L as f,$ as o,S as x}from"./app-3Ds5Ugas.js";import{H as j}from"./heading-BmUx_2sw.js";import{B as v}from"./admin-layout-KRPrd9IN.js";import{B as a}from"./createLucideIcon-D09f9KDG.js";import{D as g}from"./data-table-7mP6xRoL.js";import{I as y}from"./input-Dlgunh1D.js";import{A as S}from"./app-layout-DT5DLS-H.js";import{E as b}from"./eye-BuZzPEgu.js";import{P as q}from"./pencil-DUyNh9Y8.js";import{f as N}from"./format-CBpsKyOP.js";/* empty css            */import"./applicationLogo-naLLS42X.js";import"./index-DTU4xmPb.js";import"./index-C0-Rh8YQ.js";import"./table-BwDg-NCB.js";const w=[{title:"Dashboard",href:route("dashboard")},{title:"Overtime Requests",href:route("overtime-requests.index")}],P=t=>{switch(t){case 1:return"secondary";case 2:return"default";case 3:return"destructive";case 4:return"outline";default:return"secondary"}},_=t=>{switch(t){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Cancelled";default:return"Pending"}};function U({overtimeRequests:t,filters:D}){const[i,n]=l.useState(""),{url:m}=u(),d=u().props.auth;l.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("filter[search]");s&&n(s)},[m]);function h(r){r.preventDefault();const s=i.trim()?{"filter[search]":i}:{};x.get(route("overtime-requests.index"),s,{preserveState:!0,preserveScroll:!0})}const p=[{accessorKey:"date",header:"Date",cell:({row:r})=>N(new Date(r.original.date),"MMM d, yyyy")},{header:"Employee",cell:({row:r})=>r.original.user.first_name+" "+r.original.user.last_name},{accessorKey:"time",header:"Time",cell:({row:r})=>e.jsxs("span",{children:[r.original.start_time," - ",r.original.end_time]})},{accessorKey:"total_hours",header:"Hours"},{accessorKey:"status",header:"Status",cell:({row:r})=>e.jsx(v,{variant:P(r.original.status),children:_(r.original.status)})},{accessorKey:"approver",header:"Approver",cell:({row:r})=>{var s,c;return((s=r.original.approver)==null?void 0:s.first_name)+" "+((c=r.original.approver)==null?void 0:c.last_name)}},{header:"Actions",id:"actions",cell:({row:r})=>{const s=r.original;return e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{href:route("overtime-requests.show",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(b,{className:"h-4 w-4"})})}),s.status===1&&s.user.id===d.user.id&&e.jsx(o,{href:route("overtime-requests.edit",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(q,{className:"h-4 w-4"})})})]})}}];return e.jsxs(S,{breadcrumbs:w,children:[e.jsx(f,{title:"Overtime Requests"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[e.jsx(j,{title:"Overtime Requests",className:"mb-0"}),e.jsx(o,{href:route("overtime-requests.create"),children:e.jsx(a,{children:"Create Request"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{type:"text",value:i,onChange:r=>n(r.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search overtime requests..."}),e.jsx(a,{type:"submit",children:"Search"})]})})}),e.jsx(g,{columns:p,data:t.data,links:t.links})]})]})}export{U as default,P as getStatusColor,_ as getStatusLabel};
