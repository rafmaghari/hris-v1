import{r,K as j,j as e,L as g,$ as d,S as m}from"./app-C84IgD_F.js";import{H as S}from"./heading-CjrVVoYU.js";import{B as D}from"./admin-layout-D-T6yGF_.js";import{B as i}from"./createLucideIcon-1iKnX0P3.js";import{C as N}from"./confirmation-dialog-BTm5dm1k.js";import{D as b}from"./data-table-DDtK2w68.js";import{I as w}from"./input-DsAprXuv.js";import{A as L}from"./app-layout-BDvouAMc.js";import{P as T}from"./pencil-C70BpkCf.js";import{T as C}from"./trash-2-ZHLBnEEk.js";/* empty css            */import"./applicationLogo-C_OBQ510.js";import"./index-Cw9X1wRV.js";import"./index-BwlO7WIz.js";import"./dialog-Bhfx-s6k.js";import"./table-tbc7KVXv.js";const A=[{title:"Dashboard",href:route("dashboard")},{title:"Leave Types",href:route("leave-types.index")}];function J({leaveTypes:l,filters:B}){const[n,c]=r.useState(""),{url:u}=j(),[p,o]=r.useState(!1),[a,f]=r.useState(null);r.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("filter[search]");s&&c(s)},[u]);function h(t){t.preventDefault();const s=n.trim()?{"filter[search]":n}:{};m.get(route("leave-types.index"),s,{preserveState:!0,preserveScroll:!0})}function x(t){f(t),o(!0)}function v(){a&&(m.delete(route("leave-types.destroy",{leave_type:a.id})),o(!1))}const y=[{accessorKey:"name",header:"Name"},{accessorKey:"description",header:"Description"},{accessorKey:"status",header:"Status",cell:({row:t})=>{const s=t.original;return e.jsx(D,{variant:s.status===2?"secondary":"default",children:s.status===2?"Inactive":"Active"})}},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:t})=>{const s=t.original;return e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(d,{href:route("leave-types.edit",{leave_type:s.id}),children:e.jsxs(i,{variant:"outline",size:"icon",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(i,{variant:"destructive",size:"icon",onClick:()=>x(s),title:"Delete leave type",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];return e.jsxs(L,{breadcrumbs:A,children:[e.jsx(g,{title:"Leave Types"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[e.jsx(S,{title:"Leave Types",className:"mb-0"}),e.jsx(d,{href:route("leave-types.create"),children:e.jsx(i,{children:"Add Leave Type"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{type:"text",value:n,onChange:t=>c(t.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search leave types..."}),e.jsx(i,{type:"submit",children:"Search"})]})})}),e.jsx(b,{columns:y,data:l.data,links:l.links}),e.jsx(N,{title:"Confirm Deletion",description:`Are you sure you want to delete ${a==null?void 0:a.name}?`,open:p,onOpenChange:o,onConfirm:v,confirmButtonText:"Delete",confirmButtonVariant:"destructive"})]})]})}export{J as default};
