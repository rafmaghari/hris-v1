import{j as e,L as p,$ as o,S as N,t as u}from"./app-C84IgD_F.js";import{k as y,B as a,l as j}from"./admin-layout-D-T6yGF_.js";import{B as x}from"./createLucideIcon-1iKnX0P3.js";import{C as n,a as d,b as c,c as i}from"./card-D2SlVg6H.js";import{T as v,a as g,b as f,c as l,d as _,e as m}from"./table-tbc7KVXv.js";import{A as w}from"./arrow-left-DkATRruJ.js";import{S as b}from"./square-pen-CQKfuuwQ.js";import{T}from"./trash-2-ZHLBnEEk.js";import{T as h}from"./trending-up-CIEb4tcg.js";import{R as C,T as A}from"./trending-down-Cgs53Dec.js";/* empty css            */import"./applicationLogo-C_OBQ510.js";import"./index-Cw9X1wRV.js";import"./index-BwlO7WIz.js";function D(s){switch(s){case 1:return"Fixed";case 2:return"Accrual";default:return"Unknown"}}function B(s){if(!s)return"N/A";switch(s){case 1:return"Monthly";case 2:return"Quarterly";case 3:return"Yearly";case 4:return"Bimonthly";case 5:return"Per Minute (Testing)";default:return"Unknown"}}function U(s){switch(s){case"accrual":return e.jsx(h,{className:"h-4 w-4 text-green-600"});case"deduction":return e.jsx(A,{className:"h-4 w-4 text-red-600"});case"carry_over":return e.jsx(C,{className:"h-4 w-4 text-blue-600"});case"adjustment":return e.jsx(j,{className:"h-4 w-4 text-orange-600"});default:return e.jsx(j,{className:"h-4 w-4 text-gray-600"})}}function I(s){switch(s){case"accrual":return e.jsx(a,{variant:"default",className:"bg-green-100 text-green-800",children:"Accrual"});case"deduction":return e.jsx(a,{variant:"destructive",children:"Deduction"});case"carry_over":return e.jsx(a,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Carry Over"});case"adjustment":return e.jsx(a,{variant:"default",className:"bg-orange-100 text-orange-800",children:"Adjustment"});default:return e.jsx(a,{variant:"secondary",children:s})}}function M(s){confirm("Are you sure you want to delete this user leave setting?")&&N.delete(route("user-leave-settings.destroy",s),{onSuccess:()=>{u.success("User leave setting deleted successfully")},onError:()=>{u.error("Failed to delete user leave setting")}})}function K({userLeaveSetting:s,accrualLogs:t}){return e.jsxs(y,{children:[e.jsx(p,{title:`User Leave Setting - ${s.user.first_name} ${s.user.last_name}`}),e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"outline",size:"icon",asChild:!0,children:e.jsx(o,{href:route("user-leave-settings.index"),children:e.jsx(w,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"User Leave Setting Details"}),e.jsxs("p",{className:"text-muted-foreground",children:["Leave setting for"," ",e.jsxs("span",{className:"font-bold",children:[s.user.first_name," ",s.user.last_name]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"outline",asChild:!0,children:e.jsxs(o,{href:route("user-leave-settings.edit",s.id),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(x,{variant:"destructive",onClick:()=>M(s.id),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"User Information"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Name"}),e.jsxs("p",{className:"text-lg font-medium",children:[s.user.first_name," ",s.user.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Email"}),e.jsx("p",{children:s.user.email})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"Leave Template Information"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Template Name"}),e.jsx("p",{className:"text-lg font-medium",children:s.leave_settings_template.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Leave Type"}),e.jsx(a,{variant:"secondary",children:s.leave_settings_template.leave_type.name})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"Period Information"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Start Date"}),e.jsx("p",{children:new Date(s.start_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"End Date"}),e.jsx("p",{children:s.end_date?new Date(s.end_date).toLocaleDateString():"Ongoing"})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"Accrual Information"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Accrual Type"}),e.jsx(a,{variant:"outline",children:D(s.accrual_type)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Accrual Frequency"}),e.jsx(a,{variant:"outline",children:B(s.accrual_frequency)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Accrual Amount"}),e.jsx("p",{children:s.accrual_amount?`${s.accrual_amount} days`:"N/A"})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"Balance Information"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Current Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[s.current_balance," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Carried Over"}),e.jsxs("p",{className:"text-lg font-medium",children:[s.carried_over," days"]})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(c,{children:"Limits & Carry Over"})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Maximum Cap"}),e.jsxs("p",{className:"text-lg font-medium",children:[s.max_cap," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Allow Carry Over"}),e.jsx(a,{variant:s.allow_carry_over?"default":"secondary",children:s.allow_carry_over?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Max Carry Over"}),e.jsxs("p",{children:[s.max_carry_over," days"]})]})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Leave Balance Movement History"]})}),e.jsx(i,{children:t.data.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(l,{children:"Date"}),e.jsx(l,{children:"Type"}),e.jsx(l,{children:"Amount"}),e.jsx(l,{children:"Balance Before"}),e.jsx(l,{children:"Balance After"}),e.jsx(l,{children:"Description"}),e.jsx(l,{children:"Processed"})]})}),e.jsx(_,{children:t.data.map(r=>e.jsxs(f,{children:[e.jsxs(m,{children:[e.jsx("div",{className:"font-medium",children:new Date(r.accrual_date).toLocaleDateString()}),e.jsx("div",{className:"text-muted-foreground text-sm",children:new Date(r.accrual_date).toLocaleTimeString()})]}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[U(r.type),I(r.type)]})}),e.jsx(m,{children:e.jsxs("span",{className:`font-medium ${r.type==="accrual"||r.type==="carry_over"?"text-green-600":r.type==="deduction"?"text-red-600":"text-orange-600"}`,children:[r.type==="accrual"||r.type==="carry_over"?"+":r.type==="deduction"?"-":"",Math.abs(r.amount)," days"]})}),e.jsx(m,{children:e.jsxs("span",{className:"font-medium",children:[r.balance_before," days"]})}),e.jsx(m,{children:e.jsxs("span",{className:"font-medium text-green-600",children:[r.balance_after," days"]})}),e.jsx(m,{children:e.jsx("span",{className:"text-sm",children:r.description})}),e.jsx(m,{children:e.jsxs("div",{className:"text-muted-foreground text-sm",children:[new Date(r.processed_at).toLocaleDateString(),e.jsx("br",{}),new Date(r.processed_at).toLocaleTimeString()]})})]},r.id))})]}),t.last_page>1&&e.jsxs("div",{className:"text-muted-foreground mt-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{children:["Showing ",t.from," to ",t.to," of ",t.total," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.current_page>1&&e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:route("user-leave-settings.show",{id:s.id,page:t.current_page-1}),children:"Previous"})}),e.jsxs("span",{children:["Page ",t.current_page," of ",t.last_page]}),t.current_page<t.last_page&&e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:route("user-leave-settings.show",{id:s.id,page:t.current_page+1}),children:"Next"})})]})]})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(h,{className:"text-muted-foreground mx-auto h-12 w-12"}),e.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No movement history"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"No accrual logs found for this leave setting yet."})]})})]})]})]})}export{K as default};
