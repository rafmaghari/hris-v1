import{r as s,K as S,j as t,L as _,$ as u,S as d}from"./app-3Ds5Ugas.js";import{H as D}from"./heading-BmUx_2sw.js";import{B as p}from"./admin-layout-KRPrd9IN.js";import{B as n}from"./createLucideIcon-D09f9KDG.js";import{C as b}from"./confirmation-dialog-C_y6r8OJ.js";import{D as T}from"./data-table-7mP6xRoL.js";import{I as w}from"./input-Dlgunh1D.js";import{A as K}from"./app-layout-DT5DLS-H.js";import{P as L}from"./pencil-DUyNh9Y8.js";import{T as C}from"./trash-2-DQSSqK_3.js";/* empty css            */import"./applicationLogo-naLLS42X.js";import"./index-DTU4xmPb.js";import"./index-C0-Rh8YQ.js";import"./dialog-pNzlA7wU.js";import"./table-BwDg-NCB.js";const B=[{title:"Dashboard",href:route("dashboard")},{title:"Leave Settings Templates",href:route("leave-settings-templates.index")}];function J({templates:i,filters:P}){const[l,o]=s.useState(""),{url:f}=S(),[h,c]=s.useState(!1),[r,x]=s.useState(null);s.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("search");a&&o(a)},[f]);function y(e){e.preventDefault();const a=l.trim()?{search:l}:{};d.get(route("leave-settings-templates.index"),a,{preserveState:!0,preserveScroll:!0})}function g(e){x(e),c(!0)}function v(){r&&(d.delete(route("leave-settings-templates.destroy",{leave_settings_template:r.id})),c(!1))}function j(e){return e===1?"Fixed":"Accrual"}function A(e){switch(e){case 1:return"Monthly";case 2:return"Quarterly";case 3:return"Yearly";case 4:return"Bimonthly";default:return"N/A"}}const N=[{accessorKey:"name",header:"Name"},{accessorKey:"leave_type",header:"Leave Type",cell:({row:e})=>{var m;return((m=e.original.leave_type)==null?void 0:m.name)||"N/A"}},{accessorKey:"accrual_type",header:"Accrual Type",cell:({row:e})=>{const a=e.original;return t.jsx(p,{variant:a.accrual_type===1?"secondary":"default",children:j(a.accrual_type)})}},{accessorKey:"fixed_days",header:"Fixed Days",cell:({row:e})=>e.original.fixed_days||"N/A"},{accessorKey:"accrual_frequency",header:"Accrual Frequency",cell:({row:e})=>{const a=e.original;return A(a.accrual_frequency)}},{accessorKey:"accrual_amount",header:"Accrual Amount",cell:({row:e})=>e.original.accrual_amount||"N/A"},{accessorKey:"max_cap",header:"Max Cap",cell:({row:e})=>e.original.max_cap||"N/A"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const a=e.original;return t.jsx(p,{variant:a.status===2?"secondary":"default",children:a.status===2?"Inactive":"Active"})}},{id:"actions",header:()=>t.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:e})=>{const a=e.original;return t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(u,{href:route("leave-settings-templates.edit",{leave_settings_template:a.id}),children:t.jsxs(n,{variant:"outline",size:"icon",children:[t.jsx(L,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Edit"})]})}),t.jsxs(n,{variant:"destructive",size:"icon",onClick:()=>g(a),title:"Delete template",children:[t.jsx(C,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];return t.jsxs(K,{breadcrumbs:B,children:[t.jsx(_,{title:"Leave Settings Templates"}),t.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[t.jsx(D,{title:"Leave Settings Templates",className:"mb-0"}),t.jsx(u,{href:route("leave-settings-templates.create"),children:t.jsx(n,{children:"Add Leave Settings Template"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:t.jsx("form",{onSubmit:y,children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(w,{type:"text",value:l,onChange:e=>o(e.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search templates..."}),t.jsx(n,{type:"submit",children:"Search"})]})})}),t.jsx(T,{columns:N,data:i.data,links:i.links}),t.jsx(b,{title:"Confirm Deletion",description:`Are you sure you want to delete ${r==null?void 0:r.name}?`,open:h,onOpenChange:c,onConfirm:v,confirmButtonText:"Delete",confirmButtonVariant:"destructive"})]})]})}export{J as default};
