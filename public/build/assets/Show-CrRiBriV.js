import{K as A,r as p,m as O,j as e,L as w}from"./app-C84IgD_F.js";import{B as k}from"./admin-layout-D-T6yGF_.js";import{B as a}from"./createLucideIcon-1iKnX0P3.js";import{C as M,a as S,b as F,c as L,d as T}from"./card-D2SlVg6H.js";import{D as x,a as h,b as j,c as m,d as v}from"./dialog-Bhfx-s6k.js";import{L as r}from"./label-DtNMNcRI.js";import{T as u}from"./textarea-DvXYkZiG.js";import{A as B}from"./app-layout-BDvouAMc.js";import{getStatusLabel as E,getStatusColor as H}from"./Index-BiBcWOZB.js";import{f as g}from"./format-CBpsKyOP.js";/* empty css            */import"./applicationLogo-C_OBQ510.js";import"./index-Cw9X1wRV.js";import"./index-BwlO7WIz.js";import"./heading-CjrVVoYU.js";import"./data-table-DDtK2w68.js";import"./table-tbc7KVXv.js";import"./input-DsAprXuv.js";import"./eye-DzkxUSW2.js";import"./pencil-C70BpkCf.js";const V=[{title:"Dashboard",href:route("dashboard")},{title:"Overtime Requests",href:route("overtime-requests.index")},{title:"View",href:"#"}];function te({overtimeRequest:s,canApprove:f}){const{auth:y}=A().props,[C,i]=p.useState(!1),[N,t]=p.useState(!1),{data:c,setData:d,post:l,processing:n}=O({approver_note:""}),_=()=>{l(route("overtime-requests.approve",s.id),{onSuccess:()=>i(!1)})},b=()=>{l(route("overtime-requests.reject",s.id),{onSuccess:()=>t(!1)})},D=()=>{confirm("Are you sure you want to cancel this overtime request?")&&l(route("overtime-requests.cancel",s.id))};return e.jsxs(B,{breadcrumbs:V,children:[e.jsx(w,{title:"View Overtime Request"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"View Overtime Request"}),e.jsx(a,{variant:"outline",onClick:()=>window.history.back(),children:"Back"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs(M,{children:[e.jsx(S,{children:e.jsx(F,{children:"Overtime Request Details"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Employee"}),e.jsxs("p",{className:"text-gray-700",children:[s.user.first_name," ",s.user.last_name]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Status "}),e.jsx(k,{variant:H(s.status),children:E(s.status)})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Date"}),e.jsx("p",{className:"text-gray-700",children:g(new Date(s.date),"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Time"}),e.jsxs("p",{className:"text-gray-700",children:[s.start_time," - ",s.end_time]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Total Hours"}),e.jsx("p",{className:"text-gray-700",children:s.total_hours})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Reason"}),e.jsx("p",{className:"text-gray-700",children:s.reason})]})]}),s.approver&&e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx("h3",{className:"mb-4 font-semibold",children:"Approval Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Approver"}),e.jsxs("p",{className:"text-gray-700",children:[s.approver.first_name," ",s.approver.last_name]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Approved At"}),e.jsx("p",{className:"text-gray-700",children:s.approved_at&&g(new Date(s.approved_at),"MMMM d, yyyy")})]}),s.approver_note&&e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{children:"Note"}),e.jsx("p",{className:"text-gray-700",children:s.approver_note})]})]})]})]}),e.jsx(T,{className:"flex justify-end space-x-2",children:s.status===1&&e.jsxs(e.Fragment,{children:[f&&e.jsxs(e.Fragment,{children:[e.jsx(a,{onClick:()=>i(!0),children:"Approve"}),e.jsx(a,{variant:"destructive",onClick:()=>t(!0),children:"Reject"})]}),s.user.id===y.user.id&&e.jsx(a,{variant:"outline",onClick:D,children:"Cancel Request"})]})})]}),e.jsx(x,{open:C,onOpenChange:i,children:e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(m,{children:"Approve Overtime Request"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(r,{htmlFor:"approver_note",children:"Note (Optional)"}),e.jsx(u,{id:"approver_note",value:c.approver_note,onChange:o=>d("approver_note",o.target.value),rows:4})]})}),e.jsxs(v,{children:[e.jsx(a,{variant:"outline",onClick:()=>i(!1),disabled:n,children:"Cancel"}),e.jsx(a,{onClick:_,disabled:n,children:"Approve"})]})]})}),e.jsx(x,{open:N,onOpenChange:t,children:e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(m,{children:"Reject Overtime Request"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(r,{htmlFor:"approver_note",children:"Reason for Rejection"}),e.jsx(u,{id:"approver_note",value:c.approver_note,onChange:o=>d("approver_note",o.target.value),rows:4})]})}),e.jsxs(v,{children:[e.jsx(a,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:b,disabled:n,children:"Reject"})]})]})})]})]})}export{te as default};
