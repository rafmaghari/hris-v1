import{r as a,K as v,j as e,L as y,$ as m,S as d}from"./app-3Ds5Ugas.js";import{H as D}from"./heading-BmUx_2sw.js";import{B as S}from"./admin-layout-KRPrd9IN.js";import{B as n}from"./createLucideIcon-D09f9KDG.js";import{C as N}from"./confirmation-dialog-C_y6r8OJ.js";import{D as b}from"./data-table-7mP6xRoL.js";import{I as w}from"./input-Dlgunh1D.js";import{A as C}from"./app-layout-DT5DLS-H.js";import{P as A}from"./pencil-DUyNh9Y8.js";import{T as B}from"./trash-2-DQSSqK_3.js";/* empty css            */import"./applicationLogo-naLLS42X.js";import"./index-DTU4xmPb.js";import"./index-C0-Rh8YQ.js";import"./dialog-pNzlA7wU.js";import"./table-BwDg-NCB.js";const P=[{title:"Dashboard",href:route("dashboard")},{title:"Departments",href:route("departments.index")}];function M({departments:c,filters:E}){const[i,l]=a.useState(""),{url:u}=v(),[p,o]=a.useState(!1),[s,f]=a.useState(null);a.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("filter[search]");r&&l(r)},[u]);function h(t){t.preventDefault();const r=i.trim()?{"filter[search]":i}:{};d.get(route("departments.index"),r,{preserveState:!0,preserveScroll:!0})}function x(t){f(t),o(!0)}function j(){s&&(d.delete(route("departments.destroy",{department:s.id})),o(!1))}const g=[{accessorKey:"name",header:"Name"},{accessorKey:"description",header:"Description"},{accessorKey:"status",header:"Status",cell:({row:t})=>{const r=t.original;return e.jsx(S,{variant:r.status===2?"secondary":"default",children:r.status===2?"Inactive":"Active"})}},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:t})=>{const r=t.original;return e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{href:route("departments.edit",{department:r.id}),children:e.jsxs(n,{variant:"outline",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(n,{variant:"destructive",size:"icon",onClick:()=>x(r),title:"Delete department",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];return e.jsxs(C,{breadcrumbs:P,children:[e.jsx(y,{title:"Departments"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[e.jsx(D,{title:"Departments",className:"mb-0"}),e.jsx(m,{href:route("departments.create"),children:e.jsx(n,{children:"Add Department"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{type:"text",value:i,onChange:t=>l(t.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search departments..."}),e.jsx(n,{type:"submit",children:"Search"})]})})}),e.jsx(b,{columns:g,data:c.data,links:c.links}),e.jsx(N,{title:"Confirm Deletion",description:`Are you sure you want to delete ${s==null?void 0:s.name}?`,open:p,onOpenChange:o,onConfirm:j,confirmButtonText:"Delete",confirmButtonVariant:"destructive"})]})]})}export{M as default};
