import{m as k,j as e}from"./app-C84IgD_F.js";import{B as q}from"./createLucideIcon-1iKnX0P3.js";import{C as I,a as L,b as R,c as T,d as w}from"./card-D2SlVg6H.js";import{C as B}from"./checkbox-ms9-Q6AU.js";import{I as m}from"./input-DsAprXuv.js";import{L as l}from"./label-DtNMNcRI.js";import{S as r,a as x,b as h,c as o,d as p}from"./select-gXvW7wEd.js";function J({user:t,positions:y,departments:C,managers:f,employmentTypes:S,statuses:F,roles:b}){var _,g,v,N;const{data:i,setData:d,post:u,put:U,processing:j,errors:s}=k({first_name:(t==null?void 0:t.first_name)??"",last_name:(t==null?void 0:t.last_name)??"",email:(t==null?void 0:t.email)??"",position_id:((_=t==null?void 0:t.position_id)==null?void 0:_.toString())??"",department_id:((g=t==null?void 0:t.department_id)==null?void 0:g.toString())??"",manager_id:((v=t==null?void 0:t.manager_id)==null?void 0:v.toString())??"",date_hired:(t==null?void 0:t.date_hired)??"",employment_type:(t==null?void 0:t.employment_type)??"",status:((N=t==null?void 0:t.status)==null?void 0:N.toString())??"",end_at:(t==null?void 0:t.end_at)??"",roles:(t==null?void 0:t.roles)??[]}),V=a=>{a.preventDefault(),t?U(route("users.update",t.id)):u(route("users.store"))},D=(a,c)=>{c?d("roles",[...i.roles,a]):d("roles",i.roles.filter(E=>E!==a))},n=a=>c=>{d(a,c.target.value)};return e.jsx("form",{onSubmit:V,children:e.jsxs(I,{className:"max-w-6xl",children:[e.jsx(L,{children:e.jsx(R,{children:t?"Edit User":"Create User"})}),e.jsxs(T,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"first_name",children:"First Name *"}),e.jsx(m,{id:"first_name",value:i.first_name,onChange:n("first_name"),required:!0}),s.first_name&&e.jsx("p",{className:"text-destructive text-sm",children:s.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(m,{id:"last_name",value:i.last_name,onChange:n("last_name"),required:!0}),s.last_name&&e.jsx("p",{className:"text-destructive text-sm",children:s.last_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(m,{id:"email",type:"email",value:i.email,onChange:n("email"),required:!0}),s.email&&e.jsx("p",{className:"text-destructive text-sm",children:s.email})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"position_id",children:"Position"}),e.jsxs(r,{value:i.position_id,onValueChange:a=>d("position_id",a),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select position"})}),e.jsx(o,{children:y.map(a=>e.jsx(p,{value:a.id.toString(),children:a.name},a.id))})]}),s.position_id&&e.jsx("p",{className:"text-destructive text-sm",children:s.position_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"department_id",children:"Department"}),e.jsxs(r,{value:i.department_id,onValueChange:a=>d("department_id",a),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select department"})}),e.jsx(o,{children:C.map(a=>e.jsx(p,{value:a.id.toString(),children:a.name},a.id))})]}),s.department_id&&e.jsx("p",{className:"text-destructive text-sm",children:s.department_id})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"manager_id",children:"Manager"}),e.jsxs(r,{value:i.manager_id,onValueChange:a=>d("manager_id",a),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select manager"})}),e.jsx(o,{children:f.map(a=>e.jsx(p,{value:a.id.toString(),children:a.name},a.id))})]}),s.manager_id&&e.jsx("p",{className:"text-destructive text-sm",children:s.manager_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"date_hired",children:"Date Hired"}),e.jsx(m,{id:"date_hired",type:"date",value:i.date_hired,onChange:n("date_hired")}),s.date_hired&&e.jsx("p",{className:"text-destructive text-sm",children:s.date_hired})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employment_type",children:"Employment Type"}),e.jsxs(r,{value:i.employment_type,onValueChange:a=>d("employment_type",a),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select employment type"})}),e.jsx(o,{children:S.map(a=>e.jsx(p,{value:a.value,children:a.label},a.value))})]}),s.employment_type&&e.jsx("p",{className:"text-destructive text-sm",children:s.employment_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(r,{value:i.status,onValueChange:a=>d("status",a),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select status"})}),e.jsx(o,{children:F.map(a=>e.jsx(p,{value:a.value,children:a.label},a.value))})]}),s.status&&e.jsx("p",{className:"text-destructive text-sm",children:s.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"end_at",children:"End Date"}),e.jsx(m,{id:"end_at",type:"date",value:i.end_at,onChange:n("end_at")}),s.end_at&&e.jsx("p",{className:"text-destructive text-sm",children:s.end_at})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:b.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:`role-${a.id}`,checked:i.roles.includes(a.id),onCheckedChange:c=>D(a.id,!!c)}),e.jsx(l,{htmlFor:`role-${a.id}`,className:"text-sm",children:a.name})]},a.id))}),s.roles&&e.jsx("p",{className:"text-destructive text-sm",children:s.roles})]})]}),e.jsxs(w,{className:"flex justify-between",children:[e.jsx("div",{}),e.jsx(q,{type:"submit",disabled:j,children:j?"Saving...":t?"Update User":"Create User"})]})]})})}export{J as U};
