import{j as s,L as _}from"./app-C84IgD_F.js";import{B as T,C}from"./admin-layout-D-T6yGF_.js";import{C as m,a as j,b as o,c as g}from"./card-D2SlVg6H.js";import{T as u,a as p,b as t,c as d,d as y,e as l}from"./table-tbc7KVXv.js";import{A as D,C as L}from"./app-layout-BDvouAMc.js";import{c as H}from"./createLucideIcon-1iKnX0P3.js";import{T as V}from"./trending-up-CIEb4tcg.js";/* empty css            */import"./applicationLogo-C_OBQ510.js";import"./index-Cw9X1wRV.js";import"./index-BwlO7WIz.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A=H("FileText",k),B=[{title:"Dashboard",href:"/dashboard"}];function N(c){const x={1:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",label:"Pending"},2:{color:"bg-green-100 text-green-800 border-green-300",label:"Approved"},3:{color:"bg-red-100 text-red-800 border-red-300",label:"Rejected"},4:{color:"bg-gray-100 text-gray-800 border-gray-300",label:"Cancelled"}},r=x[c]||x[1];return s.jsx(T,{className:r.color,children:r.label})}function M(c){switch(c){case"admin":return"default";case"manager":return"secondary";case"user":default:return"outline"}}function E(c){switch(c){case"admin":return"ðŸ‘‘ Admin View";case"manager":return"ðŸ‘¥ Manager View";case"user":default:return"ðŸ‘¤ Personal View"}}function b({title:c,total:x,pending:r,approved:a,rejected:h,extra:e,icon:i}){return s.jsxs(m,{children:[s.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(o,{className:"text-sm font-medium",children:c}),i]}),s.jsxs(g,{children:[s.jsx("div",{className:"text-2xl font-bold",children:x}),e&&s.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:e}),s.jsxs("div",{className:"mt-3 flex gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500"}),s.jsxs("span",{children:[r," Pending"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),s.jsxs("span",{children:[a," Approved"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),s.jsxs("span",{children:[h," Rejected"]})]})]})]})]})}function K({leaveRequests:c,overtimeRequests:x,leaveStats:r,overtimeStats:a,currentMonth:h,viewScope:e}){const i=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=n=>n?new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A";return s.jsxs(D,{breadcrumbs:B,children:[s.jsx(_,{title:"Dashboard"}),s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Dashboard - ",h]}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-600",children:"Overview of leave requests and overtime for this month"}),s.jsx("span",{className:"text-gray-400",children:"â€¢"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(T,{variant:M(e==null?void 0:e.type),className:"text-xs",children:E(e==null?void 0:e.type)}),s.jsx("span",{className:"text-sm text-gray-500",children:e==null?void 0:e.description})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:[s.jsx(b,{title:"Leave Requests",total:r==null?void 0:r.total,pending:r==null?void 0:r.pending,approved:r==null?void 0:r.approved,rejected:r==null?void 0:r.rejected,icon:s.jsx(C,{className:"text-muted-foreground h-4 w-4"})}),s.jsx(b,{title:"Overtime Requests",total:a==null?void 0:a.total,pending:a==null?void 0:a.pending,approved:a==null?void 0:a.approved,rejected:a==null?void 0:a.rejected,extra:`${a==null?void 0:a.total_hours} hours approved`,icon:s.jsx(L,{className:"text-muted-foreground h-4 w-4"})})]}),s.jsxs(m,{children:[s.jsx(j,{children:s.jsxs(o,{className:"flex items-center gap-2",children:[s.jsx(A,{className:"h-5 w-5"}),"Recent Leave Requests"]})}),s.jsx(g,{children:(c==null?void 0:c.length)>0?s.jsxs(u,{children:[s.jsx(p,{children:s.jsxs(t,{children:[s.jsx(d,{children:"Employee"}),s.jsx(d,{children:"Leave Type"}),s.jsx(d,{children:"Start Date"}),s.jsx(d,{children:"End Date"}),s.jsx(d,{children:"Days"}),s.jsx(d,{children:"Status"}),s.jsx(d,{children:"Reason"})]})}),s.jsx(y,{children:c.map(n=>s.jsxs(t,{children:[s.jsx(l,{className:"font-medium",children:`${n.user.first_name} ${n.user.last_name}`}),s.jsx(l,{children:n.user_leave_setting.leave_settings_template.leave_type.name}),s.jsx(l,{children:i(n.start_date)}),s.jsx(l,{children:i(n.end_date)}),s.jsx(l,{children:n.days_requested}),s.jsx(l,{children:N(n.status)}),s.jsx(l,{className:"max-w-xs truncate",children:n.reason})]},n.id))})]}):s.jsxs("div",{className:"py-8 text-center text-gray-500",children:[s.jsx("p",{children:"No leave requests found for this month"}),(e==null?void 0:e.type)!=="admin"&&s.jsx("p",{className:"mt-1 text-sm text-gray-400",children:(e==null?void 0:e.type)==="manager"?"showing data for your team only":"showing your personal data only"})]})})]}),s.jsxs(m,{children:[s.jsx(j,{children:s.jsxs(o,{className:"flex items-center gap-2",children:[s.jsx(V,{className:"h-5 w-5"}),"Recent Overtime Requests"]})}),s.jsx(g,{children:(x==null?void 0:x.length)>0?s.jsxs(u,{children:[s.jsx(p,{children:s.jsxs(t,{children:[s.jsx(d,{children:"Employee"}),s.jsx(d,{children:"Date"}),s.jsx(d,{children:"Start Time"}),s.jsx(d,{children:"End Time"}),s.jsx(d,{children:"Hours"}),s.jsx(d,{children:"Status"}),s.jsx(d,{children:"Reason"})]})}),s.jsx(y,{children:x.map(n=>s.jsxs(t,{children:[s.jsx(l,{className:"font-medium",children:`${n.user.first_name} ${n.user.last_name}`}),s.jsx(l,{children:i(n.date)}),s.jsx(l,{children:f(n.start_time)}),s.jsx(l,{children:f(n.end_time)}),s.jsxs(l,{children:[n.total_hours," hrs"]}),s.jsx(l,{children:N(n.status)}),s.jsx(l,{className:"max-w-xs truncate",children:n.reason})]},n.id))})]}):s.jsxs("div",{className:"py-8 text-center text-gray-500",children:[s.jsx("p",{children:"No overtime requests found for this month"}),(e==null?void 0:e.type)!=="admin"&&s.jsx("p",{className:"mt-1 text-sm text-gray-400",children:(e==null?void 0:e.type)==="manager"?"showing data for your team only":"showing your personal data only"})]})})]})]})]})}export{K as default};
