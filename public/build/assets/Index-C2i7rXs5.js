import{r as a,K as v,j as e,L as y,$ as m,S as d}from"./app-DjJX563G.js";import{H as b}from"./heading-DTdv5ui1.js";import{B as n}from"./createLucideIcon-D933E3G3.js";import{C as N}from"./confirmation-dialog-C-nCidfX.js";import{D as S}from"./data-table-gz2vh7SS.js";import{I as D}from"./input-gwDjpgU_.js";import{A as P}from"./app-layout-BttruBWi.js";import{P as w,T as C}from"./trash-2-DnOZxEvd.js";/* empty css            */import"./dialog-CLP12mSy.js";import"./select-DNVnAs1k.js";import"./index-DRLhT9hV.js";import"./index-BNfy59Gj.js";import"./table--ykkC-tS.js";const A=[{title:"Dashboard",href:route("dashboard")},{title:"Platforms",href:route("platforms.index")}];function q({platforms:i,filters:K}){const[o,c]=a.useState(""),{url:u}=v(),[f,l]=a.useState(!1),[s,p]=a.useState(null);a.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("filter[search]");r&&c(r)},[u]);function h(t){t.preventDefault();const r=o.trim()?{"filter[search]":o}:{};d.get(route("platforms.index"),r,{preserveState:!0,preserveScroll:!0})}function x(t){p(t),l(!0)}function j(){s&&(d.delete(route("platforms.destroy",{platform:s.id})),l(!1))}const g=[{accessorKey:"name",header:"Name"},{accessorKey:"slug",header:"Slug"},{accessorKey:"url",header:"URL",cell:({row:t})=>{const r=t.getValue("url");return r?e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r}):null}},{accessorKey:"is_active",header:"Status",cell:({row:t})=>{const r=t.getValue("is_active");return e.jsx("span",{className:`rounded px-2 py-1 text-xs ${r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r?"Active":"Inactive"})}},{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:t})=>{const r=t.original;return e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{href:route("platforms.edit",{platform:r.id}),children:e.jsxs(n,{variant:"outline",size:"icon",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(n,{variant:"destructive",size:"icon",onClick:()=>x(r),children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})}}];return e.jsxs(P,{breadcrumbs:A,children:[e.jsx(y,{title:"Platforms"}),e.jsxs("div",{className:"my-4 flex items-center justify-between px-5",children:[e.jsx(b,{title:"Platforms",className:"mb-0"}),e.jsx(m,{href:route("platforms.create"),children:e.jsx(n,{children:"Create Platform"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex w-full items-center justify-end",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"text",value:o,onChange:t=>c(t.target.value),className:"w-full rounded-md border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Search platforms..."}),e.jsx(n,{type:"submit",children:"Search"})]})})}),e.jsx(S,{columns:g,data:i.data,links:i.links}),e.jsx(N,{title:"Confirm Deletion",description:`Are you sure you want to delete ${s==null?void 0:s.name}?`,open:f,onOpenChange:l,onConfirm:j,confirmButtonText:"Delete",confirmButtonVariant:"destructive"})]})]})}export{q as default};
